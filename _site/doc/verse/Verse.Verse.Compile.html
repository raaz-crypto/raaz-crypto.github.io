<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Verse.Verse.Compile</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Verse.Verse.Compile</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Verse.Verse.Arch.html#"><span class="id" title="library">Arch</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Verse.Verse.Error.html#"><span class="id" title="library">Error</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Verse.Verse.PrettyPrint.html#"><span class="id" title="library">PrettyPrint</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Verse.Verse.Types.Internal.html#"><span class="id" title="library">Types.Internal</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="keyword">Types</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="keyword">Syntax</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Verse.Verse.Language.html#"><span class="id" title="library">Language</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Sets.Ensembles.html#"><span class="id" title="library">Coq.Sets.Ensembles</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#"><span class="id" title="library">Vector</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">VectorNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h1 class="section">Compilation.</h1>


<div class="paragraph"> </div>

This module exposes code to compile verse programs to machine code.

<div class="paragraph"> </div>

 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

Compilation is parameterised by the architecture, the frame
management associated with the architecture and the code generator.

<div class="paragraph"> </div>

 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Compiler"><span class="id" title="module">Compiler</span></a> (<span class="id" title="var">A</span> : <a class="idref" href="Verse.Verse.Arch.html#ARCH"><span class="id" title="module">ARCH</span></a>) (<span class="id" title="var">F</span> : <a class="idref" href="Verse.Verse.Arch.html#FRAME"><span class="id" title="module">FRAME</span></a> <a class="idref" href="Verse.Verse.Compile.html#A"><span class="id" title="module">A</span></a>) (<span class="id" title="var">C</span> : <a class="idref" href="Verse.Verse.Arch.html#CODEGEN"><span class="id" title="module">CODEGEN</span></a> <a class="idref" href="Verse.Verse.Compile.html#A"><span class="id" title="module">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
We begin by defining the errors that can arise when code fragments are
      compiled.
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Compiler.UnavailableRegister"><span class="id" title="constructor">UnavailableRegister</span></a>    : <span class="id" title="keyword">∀</span> {<span class="id" title="var">k</span>}{<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Compile.html#A.mType"><span class="id" title="axiom">A.mType</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>}, <a class="idref" href="Verse.Verse.Compile.html#A.register"><span class="id" title="axiom">A.register</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#AllocationError"><span class="id" title="inductive">AllocationError</span></a><br/>
&nbsp;&nbsp;| <a name="Compiler.UnsupportedLocalArray"><span class="id" title="constructor">UnsupportedLocalArray</span></a>  : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#memory"><span class="id" title="constructor">memory</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#AllocationError"><span class="id" title="inductive">AllocationError</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Compiler.instructionError"><span class="id" title="constructor">instructionError</span></a>       : <a class="idref" href="Verse.Verse.Language.Ast.html#UnsupportedInstruction"><span class="id" title="method">UnsupportedInstruction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#CompileError"><span class="id" title="inductive">CompileError</span></a><br/>
&nbsp;&nbsp;| <a name="Compiler.typeError"><span class="id" title="constructor">typeError</span></a>              : <a class="idref" href="Verse.Verse.Types.Internal.html#UnsupportedType"><span class="id" title="inductive">UnsupportedType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#CompileError"><span class="id" title="inductive">CompileError</span></a><br/>
&nbsp;&nbsp;| <a name="Compiler.allocationError"><span class="id" title="constructor">allocationError</span></a>        : <a class="idref" href="Verse.Verse.Compile.html#Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#CompileError"><span class="id" title="inductive">CompileError</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="Compiler.liftTypeError"><span class="id" title="instance">liftTypeError</span></a> : <a class="idref" href="Verse.Verse.Error.html#Castable"><span class="id" title="class">Castable</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#UnsupportedType"><span class="id" title="inductive">UnsupportedType</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="Verse.Verse.Error.html#cast"><span class="id" title="method">cast</span></a> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.typeError"><span class="id" title="constructor">typeError</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="Compiler.liftInstructionError"><span class="id" title="instance">liftInstructionError</span></a> : <a class="idref" href="Verse.Verse.Error.html#Castable"><span class="id" title="class">Castable</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#UnsupportedInstruction"><span class="id" title="method">UnsupportedInstruction</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="Verse.Verse.Error.html#cast"><span class="id" title="method">cast</span></a> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.instructionError"><span class="id" title="constructor">instructionError</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="Compiler.liftAllocationError"><span class="id" title="instance">liftAllocationError</span></a> : <a class="idref" href="Verse.Verse.Error.html#Castable"><span class="id" title="class">Castable</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a class="idref" href="Verse.Verse.Error.html#cast"><span class="id" title="method">cast</span></a> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.allocationError"><span class="id" title="constructor">allocationError</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Compiler.checkTy"><span class="id" title="variable">checkTy</span></a> <span class="id" title="var">k</span> (<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Error.html#isErr"><span class="id" title="definition">isErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <span class="id" title="var">p</span> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">error</span></a> <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Types.Internal.html#unsupported"><span class="id" title="constructor">unsupported</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Lifting a function on supported types to a function on all types that throws errors 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">k</span> (<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>) <span class="id" title="var">T</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Error.html#isErr"><span class="id" title="definition">isErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">p</span>  ⇒ <a class="idref" href="Verse.Verse.Compile.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#liftErr"><span class="id" title="definition">liftErr</span></a> (<a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">error</span></a> <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Types.Internal.html#unsupported"><span class="id" title="constructor">unsupported</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Compiler.CodeDenote"><span class="id" title="section">CodeDenote</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.CodeDenote.v"><span class="id" title="variable">v</span></a> : <a class="idref" href="Verse.Verse.Syntax.html#VariableT"><span class="id" title="definition">VariableT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.CodeDenote.vTrans"><span class="id" title="variable">vTrans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">k</span> (<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Error.html#noErr"><span class="id" title="definition">noErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <span class="id" title="var">aK</span> <span class="id" title="var">k</span> (<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Error.html#noErr"><span class="id" title="definition">noErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>)) (<span class="id" title="var">a</span> : (<a class="idref" href="Verse.Verse.Language.Ast.html#arg"><span class="id" title="inductive">arg</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#aK"><span class="id" title="variable">aK</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#C.mArg"><span class="id" title="axiom">C.mArg</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">in</span> <a class="idref" href="Verse.Verse.Language.Ast.html#arg"><span class="id" title="inductive">arg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#var"><span class="id" title="constructor">var</span></a> <span class="id" title="var">x</span>                     ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#mkVar"><span class="id" title="method">mkVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.vTrans"><span class="id" title="variable">vTrans</span></a> <a class="idref" href="Verse.Verse.Compile.html#p'"><span class="id" title="variable">p'</span></a> <span class="id" title="var">x</span>) <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#const"><span class="id" title="constructor">Ast.const</span></a> <span class="id" title="var">c</span>               ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#mkConst"><span class="id" title="method">mkConst</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> (<a class="idref" href="Verse.Verse.Compile.html#A.mConstantDenote"><span class="id" title="axiom">A.mConstantDenote</span></a> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Compile.html#p'"><span class="id" title="variable">p'</span></a> <span class="id" title="var">c</span>) <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<span class="id" title="var">Ast.index</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ty</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#array"><span class="id" title="constructor">array</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">p''</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#mkIndex"><span class="id" title="method">mkIndex</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <a class="idref" href="Verse.Verse.Compile.html#p'"><span class="id" title="variable">p'</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">i</span>) <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="var">p</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Verse.Verse.Error.html#getTgetsT"><span class="id" title="lemma">getTgetsT</span></a> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.vTrans"><span class="id" title="variable">vTrans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Verse.Verse.Types.Internal.html#array"><span class="id" title="constructor">array</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ty</span>) <span class="id" title="var">p''</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.instDenote"><span class="id" title="definition">instDenote</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="Verse.Verse.Language.Ast.html#instruction"><span class="id" title="inductive">instruction</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.v"><span class="id" title="variable">v</span></a>) : <a class="idref" href="Verse.Verse.Compile.html#C.mInstruction"><span class="id" title="axiom">C.mInstruction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#increment"><span class="id" title="constructor">increment</span></a> <span class="id" title="var">la</span> ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkIncrement"><span class="id" title="method">mkIncrement</span></a> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la</span><a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#decrement"><span class="id" title="constructor">decrement</span></a> <span class="id" title="var">la</span> ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkIncrement"><span class="id" title="method">mkIncrement</span></a> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la</span><a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#assign"><span class="id" title="constructor">assign</span></a> <span class="id" title="var">a</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#update1"><span class="id" title="constructor">update1</span></a> <span class="id" title="var">o</span> <span class="id" title="var">la</span>           ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkUpdate1"><span class="id" title="method">mkUpdate1</span></a> <span class="id" title="var">o</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#update2"><span class="id" title="constructor">update2</span></a> <span class="id" title="var">o</span> <span class="id" title="var">la</span> <span class="id" title="var">ra</span>        ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkUpdate2"><span class="id" title="method">mkUpdate2</span></a> <span class="id" title="var">o</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#assign2"><span class="id" title="constructor">assign2</span></a> <span class="id" title="var">o</span> <span class="id" title="var">la</span> <span class="id" title="var">ra</span>        ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkAssign2"><span class="id" title="method">mkAssign2</span></a> <span class="id" title="var">o</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#assign3"><span class="id" title="constructor">assign3</span></a> <span class="id" title="var">o</span> <span class="id" title="var">la1</span> <span class="id" title="var">la2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ra</span>             ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkAssign3"><span class="id" title="method">mkAssign3</span></a> <span class="id" title="var">o</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#extassign3"><span class="id" title="constructor">extassign3</span></a> <span class="id" title="var">o</span> <span class="id" title="var">la1</span> <span class="id" title="var">la2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ra1</span> <span class="id" title="var">ra2</span>     ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkExtassign3"><span class="id" title="method">mkExtassign3</span></a> <span class="id" title="var">o</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#extassign4"><span class="id" title="constructor">extassign4</span></a> <span class="id" title="var">o</span> <span class="id" title="var">la1</span> <span class="id" title="var">la2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ra1</span> <span class="id" title="var">ra2</span> <span class="id" title="var">ra3</span> ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Language.Ast.html#mkExtassign4"><span class="id" title="method">mkExtassign4</span></a> <span class="id" title="var">o</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">la2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#21eebdda6a1bd64885e2dcac5205d0fd"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.argDenote"><span class="id" title="definition">argDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ra3</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<span class="id" title="var">moveTo</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ty</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">lv</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#collectErr"><span class="id" title="definition">collectErr</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> <span class="id" title="var">ty</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkApp"><span class="id" title="definition">checkApp</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#array"><span class="id" title="constructor">array</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">p'</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#mkMoveTo"><span class="id" title="method">mkMoveTo</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.vTrans"><span class="id" title="variable">vTrans</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">lv</span>) <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#clobber"><span class="id" title="constructor">clobber</span></a> <span class="id" title="var">_</span>  ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#mkNOP"><span class="id" title="method">mkNOP</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Verse.Verse.Error.html#getTgetsT"><span class="id" title="lemma">getTgetsT</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.vTrans"><span class="id" title="variable">vTrans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Verse.Verse.Types.Internal.html#array"><span class="id" title="constructor">array</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">ty</span>) <span class="id" title="var">p'</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.compileCode"><span class="id" title="definition">compileCode</span></a> (<span class="id" title="var">tyD</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#typeC"><span class="id" title="class">typeC</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#TypeDenote"><span class="id" title="definition">TypeDenote</span></a>) (<span class="id" title="var">insts</span> : @<a class="idref" href="Verse.Verse.Language.Ast.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Verse.Verse.Compile.html#tyD"><span class="id" title="variable">tyD</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote.v"><span class="id" title="variable">v</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">compile</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">cl</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#assert"><span class="id" title="constructor">assert</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#mkNOP"><span class="id" title="method">mkNOP</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Language.Ast.html#inst"><span class="id" title="constructor">inst</span></a> <span class="id" title="var">i</span>  ⇒ <a class="idref" href="Verse.Verse.Compile.html#Compiler.instDenote"><span class="id" title="definition">instDenote</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#merge"><span class="id" title="definition">merge</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="Verse.Verse.Compile.html#compile"><span class="id" title="variable">compile</span></a> <a class="idref" href="Verse.Verse.Compile.html#insts"><span class="id" title="variable">insts</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.CodeDenote"><span class="id" title="section">CodeDenote</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Compiler.Internal"><span class="id" title="module">Internal</span></a>.<br/>

<br/>
</div>

<div class="doc">
Type definition marking a list of types as supported 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Syntax.html#allocation"><span class="id" title="definition">allocation</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">k</span> (<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>) ⇒ <a class="idref" href="Verse.Verse.Error.html#noErr"><span class="id" title="definition">noErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>)) <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
suppTypes works well with append 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.stAppend"><span class="id" title="definition">stAppend</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n1"><span class="id" title="variable">n1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n2"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a>  <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#append"><span class="id" title="definition">Vector.append</span></a> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#207d28e6e1fa33a63bfd7773812f7876"><span class="id" title="notation">[]</span></a>                   ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">p2</span>  ⇒ <a class="idref" href="Verse.Verse.Compile.html#p2"><span class="id" title="variable">p2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">lt</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Verse.Verse.Compile.html#p1"><span class="id" title="variable">p1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#stAppend"><span class="id" title="definition">stAppend</span></a> <span class="id" title="var">lt</span> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#p1"><span class="id" title="variable">p1</span></a>) <a class="idref" href="Verse.Verse.Compile.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.stAppend"><span class="id" title="definition">stAppend</span></a> [<span class="id" title="var">n1</span> <span class="id" title="var">n2</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Generate a proof of a type list being supported or throw an error 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Types.Internal.html#UnsupportedType"><span class="id" title="inductive">UnsupportedType</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#207d28e6e1fa33a63bfd7773812f7876"><span class="id" title="notation">[]</span></a>                  ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">lt</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Error.html#isErr"><span class="id" title="definition">isErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <span class="id" title="var">ty</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">p</span>  ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">p</span> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#checkTypes"><span class="id" title="definition">checkTypes</span></a> <span class="id" title="var">lt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">error</span></a> <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Types.Internal.html#unsupported"><span class="id" title="constructor">unsupported</span></a> <span class="id" title="var">ty</span><a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Denotation of a list of supported types 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.typeListDenote"><span class="id" title="definition">typeListDenote</span></a> {<span class="id" title="var">n</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>), <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mType"><span class="id" title="axiom">A.mType</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0   ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>    ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#207d28e6e1fa33a63bfd7773812f7876"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">l'</span> <span class="id" title="var">pl'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Verse.Verse.Compile.html#pl'"><span class="id" title="variable">pl'</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <a class="idref" href="Verse.Verse.Compile.html#typeListDenote"><span class="id" title="definition">typeListDenote</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#tl"><span class="id" title="definition">tl</span></a> <a class="idref" href="Verse.Verse.Compile.html#l'"><span class="id" title="variable">l'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#pl'"><span class="id" title="variable">pl'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Type list denotes work well with append 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.tlDenoteAppends"><span class="id" title="definition">tlDenoteAppends</span></a> {<span class="id" title="var">n1</span> <span class="id" title="var">n2</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n1"><span class="id" title="variable">n1</span></a>) (<span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n2"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">gl1</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a>) (<span class="id" title="var">gl2</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">l1</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.typeListDenote"><span class="id" title="definition">typeListDenote</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a>) (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.stAppend"><span class="id" title="definition">stAppend</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl1"><span class="id" title="variable">gl1</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl2"><span class="id" title="variable">gl2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.typeListDenote"><span class="id" title="definition">typeListDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl1"><span class="id" title="variable">gl1</span></a>) (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.typeListDenote"><span class="id" title="definition">typeListDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl2"><span class="id" title="variable">gl2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">tlDenoteAppends</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.tlDenoteAppends"><span class="id" title="definition">tlDenoteAppends</span></a> [<span class="id" title="var">n1</span> <span class="id" title="var">n2</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
A machine variable allocation corresponding to a list of supported types 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="Verse.Verse.Syntax.html#GenVariableT"><span class="id" title="definition">GenVariableT</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mType"><span class="id" title="axiom">A.mType</span></a>) <span class="id" title="var">n</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ml</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="Verse.Verse.Syntax.html#allocation"><span class="id" title="definition">allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.typeListDenote"><span class="id" title="definition">typeListDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Verse.Verse.Compile.html#ml"><span class="id" title="variable">ml</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <span class="id" title="var">_</span> [<span class="id" title="var">n</span> <span class="id" title="var">l</span>] <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.mergeAlloc"><span class="id" title="definition">mergeAlloc</span></a> <span class="id" title="var">v</span> <span class="id" title="var">n1</span> (<span class="id" title="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n1"><span class="id" title="variable">n1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n2</span> (<span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n2"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">gl1</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l1"><span class="id" title="variable">l1</span></a>) (<span class="id" title="var">gl2</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l2"><span class="id" title="variable">l2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a1</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl1"><span class="id" title="variable">gl1</span></a>) (<span class="id" title="var">a2</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl2"><span class="id" title="variable">gl2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.stAppend"><span class="id" title="definition">stAppend</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl1"><span class="id" title="variable">gl1</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl2"><span class="id" title="variable">gl2</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">alloc</span> := <a class="idref" href="Verse.Verse.Syntax.html#mergeAllocation"><span class="id" title="definition">mergeAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Verse.Verse.Compile.html#a2"><span class="id" title="variable">a2</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Compile.html#alloc"><span class="id" title="variable">alloc</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.tlDenoteAppends"><span class="id" title="definition">tlDenoteAppends</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl1"><span class="id" title="variable">gl1</span></a> <a class="idref" href="Verse.Verse.Compile.html#gl2"><span class="id" title="variable">gl2</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mergeAlloc"><span class="id" title="definition">mergeAlloc</span></a> [<span class="id" title="var">v</span> <span class="id" title="var">n1</span> <span class="id" title="var">l1</span> <span class="id" title="var">n2</span> <span class="id" title="var">l2</span> <span class="id" title="var">gl1</span> <span class="id" title="var">gl2</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.FAllocation"><span class="id" title="definition">FAllocation</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">ml</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#ml"><span class="id" title="variable">ml</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Verse.Verse.Compile.html#F.frameState"><span class="id" title="axiom">F.frameState</span></a>)%<span class="id" title="var">type</span>.<br/>

<br/>
</div>

<div class="doc">
Generate a frame with the given set of parameters 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.params"><span class="id" title="definition">params</span></a> {<span class="id" title="var">n</span>} <span class="id" title="var">s0</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>), <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.FAllocation"><span class="id" title="definition">FAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#207d28e6e1fa33a63bfd7773812f7876"><span class="id" title="notation">[]</span></a>           ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Syntax.html#emptyAllocation"><span class="id" title="definition">emptyAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#s0"><span class="id" title="variable">s0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">rest</span>) ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">v</span>, <span class="id" title="var">s1</span>)  := (<a class="idref" href="Verse.Verse.Compile.html#F.addParam"><span class="id" title="axiom">F.addParam</span></a> <a class="idref" href="Verse.Verse.Compile.html#s0"><span class="id" title="variable">s0</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>))) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">vs</span>, <span class="id" title="var">s2</span>) := <a class="idref" href="Verse.Verse.Compile.html#params"><span class="id" title="definition">params</span></a> <a class="idref" href="Verse.Verse.Compile.html#s1"><span class="id" title="variable">s1</span></a> <span class="id" title="var">rest</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Verse.Verse.Compile.html#vs"><span class="id" title="variable">vs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> <a class="idref" href="Verse.Verse.Compile.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Generate a frame with the given set of stack varaibles or die trying 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.stacks"><span class="id" title="definition">stacks</span></a> {<span class="id" title="var">n</span>} <span class="id" title="var">s0</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>), <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.FAllocation"><span class="id" title="definition">FAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#207d28e6e1fa33a63bfd7773812f7876"><span class="id" title="notation">[]</span></a>                        ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Syntax.html#emptyAllocation"><span class="id" title="definition">emptyAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#s0"><span class="id" title="variable">s0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (@<span class="id" title="var">existT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Types.Internal.html#memory"><span class="id" title="constructor">memory</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">error</span></a> <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.UnsupportedLocalArray"><span class="id" title="constructor">UnsupportedLocalArray</span></a> <span class="id" title="var">ty</span><a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (@<span class="id" title="var">existT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Types.Internal.html#direct"><span class="id" title="constructor">direct</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">rest</span>) ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a1</span> := <a class="idref" href="Verse.Verse.Compile.html#F.stackAlloc"><span class="id" title="axiom">F.stackAlloc</span></a> <a class="idref" href="Verse.Verse.Compile.html#s0"><span class="id" title="variable">s0</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">v</span>, <span class="id" title="var">s1</span>) := <a class="idref" href="Verse.Verse.Compile.html#a1"><span class="id" title="variable">a1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span> <span class="id" title="var">a2</span> <a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#stacks"><span class="id" title="definition">stacks</span></a> <a class="idref" href="Verse.Verse.Compile.html#s1"><span class="id" title="variable">s1</span></a> <span class="id" title="var">rest</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>)<a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">vs</span>,<span class="id" title="var">s2</span>) := <span class="id" title="var">a2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Verse.Verse.Compile.html#vs"><span class="id" title="variable">vs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> <a class="idref" href="Verse.Verse.Compile.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Generate a frame given an allocation of the local register variables 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.registers"><span class="id" title="definition">registers</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>, <a class="idref" href="Verse.Verse.Compile.html#F.frameState"><span class="id" title="axiom">F.frameState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.register"><span class="id" title="axiom">A.register</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.FAllocation"><span class="id" title="definition">FAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#207d28e6e1fa33a63bfd7773812f7876"><span class="id" title="notation">[]</span></a>          ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> <span class="id" title="var">s0</span> <span class="id" title="var">_</span>  ⇒ <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Syntax.html#emptyAllocation"><span class="id" title="definition">emptyAllocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#s0"><span class="id" title="variable">s0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (@<span class="id" title="var">existT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Types.Internal.html#memory"><span class="id" title="constructor">memory</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">error</span></a> <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.UnsupportedLocalArray"><span class="id" title="constructor">UnsupportedLocalArray</span></a> <span class="id" title="var">ty</span><a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (@<span class="id" title="var">existT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Types.Internal.html#direct"><span class="id" title="constructor">direct</span></a> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <span class="id" title="var">tys</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> <span class="id" title="var">s0</span> <span class="id" title="var">rs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">r</span>,<span class="id" title="var">rest</span>) := <a class="idref" href="Verse.Verse.Compile.html#rs"><span class="id" title="variable">rs</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Verse.Verse.Compile.html#F.useRegister"><span class="id" title="axiom">F.useRegister</span></a> <a class="idref" href="Verse.Verse.Compile.html#s0"><span class="id" title="variable">s0</span></a> <a class="idref" href="Verse.Verse.Compile.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s1</span> ⇒ <span class="id" title="var">restAlloc</span> <a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#registers"><span class="id" title="definition">registers</span></a> <span class="id" title="var">tys</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="var">s1</span> <a class="idref" href="Verse.Verse.Compile.html#rest"><span class="id" title="variable">rest</span></a><a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">a</span>,<span class="id" title="var">finalState</span>) := <span class="id" title="var">restAlloc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><a class="idref" href="Verse.Verse.Compile.html#A.embedRegister"><span class="id" title="axiom">A.embedRegister</span></a> <a class="idref" href="Verse.Verse.Compile.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> <a class="idref" href="Verse.Verse.Compile.html#finalState"><span class="id" title="variable">finalState</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>    ⇒ <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">error</span></a> <a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.UnavailableRegister"><span class="id" title="constructor">UnavailableRegister</span></a> <a class="idref" href="Verse.Verse.Compile.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="Verse.Verse.Error.html#c43a5b8182b4a5be8debf78d71005817"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.params"><span class="id" title="definition">params</span></a> [<span class="id" title="var">n</span>] <span class="id" title="var">_</span> [<span class="id" title="var">l</span>] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.stacks"><span class="id" title="definition">stacks</span></a> [<span class="id" title="var">n</span>] <span class="id" title="var">_</span> [<span class="id" title="var">l</span>] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.registers"><span class="id" title="definition">registers</span></a> [<span class="id" title="var">n</span>] [<span class="id" title="var">l</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Provide the translation from ScopeVar to the explicit machine
        allocation
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="Compiler.Internal.makeVTrans"><span class="id" title="definition">makeVTrans</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pl</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#pl"><span class="id" title="variable">pl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> (<span class="id" title="var">ty</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Compile.html#k"><span class="id" title="variable">k</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Error.html#noErr"><span class="id" title="definition">noErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>)) (<span class="id" title="var">v</span> : <a class="idref" href="Verse.Verse.Syntax.html#scopeVar"><span class="id" title="inductive">scopeVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <span class="id" title="var">v</span> <span class="id" title="keyword">in</span> <a class="idref" href="Verse.Verse.Syntax.html#scopeVar"><span class="id" title="inductive">scopeVar</span></a> <span class="id" title="var">l'</span> <span class="id" title="var">ty'</span> <span class="id" title="keyword">return</span> <span class="id" title="keyword">∀</span> (<span class="id" title="var">pl'</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#l'"><span class="id" title="variable">l'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a'</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#pl'"><span class="id" title="variable">pl'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p'</span> : <a class="idref" href="Verse.Verse.Error.html#noErr"><span class="id" title="definition">noErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty'"><span class="id" title="variable">ty'</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <a class="idref" href="Verse.Verse.Compile.html#p'"><span class="id" title="variable">p'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Verse.Verse.Syntax.html#headVar"><span class="id" title="constructor">headVar</span></a> ⇒ <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<span class="id" title="var">restVar</span> <span class="id" title="var">m</span> <span class="id" title="var">v0</span> <span class="id" title="var">k0</span> <span class="id" title="var">ty0</span> <span class="id" title="var">s</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">pl'</span> <span class="id" title="var">a'</span> <span class="id" title="var">p'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">makeVTrans</span> <span class="id" title="var">m</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#tl"><span class="id" title="definition">tl</span></a> <span class="id" title="var">v0</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#pl'"><span class="id" title="variable">pl'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Verse.Verse.Compile.html#a'"><span class="id" title="variable">a'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k0</span> <span class="id" title="var">ty0</span> <a class="idref" href="Verse.Verse.Compile.html#p'"><span class="id" title="variable">p'</span></a> <span class="id" title="var">s</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="var">pl</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Verse.Verse.Error.html#getTunique"><span class="id" title="lemma">getTunique</span></a> <span class="id" title="var">p'</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">pl'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.makeVTrans"><span class="id" title="definition">makeVTrans</span></a> [<span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">pl</span>] <span class="id" title="var">_</span> [<span class="id" title="var">k</span> <span class="id" title="var">ty</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="keyword">Function</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.Function.startState"><span class="id" title="variable">startState</span></a> : <a class="idref" href="Verse.Verse.Compile.html#F.frameState"><span class="id" title="axiom">F.frameState</span></a>.<br/>

<br/>
</div>

<div class="doc">
Its parameters and stack variables 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.Function.nP"><span class="id" title="variable">nP</span></a> <a name="Compiler.Internal.Function.nS"><span class="id" title="variable">nS</span></a> <a name="Compiler.Internal.Function.nR"><span class="id" title="variable">nR</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.Function.parameterTypes"><span class="id" title="variable">parameterTypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.nP"><span class="id" title="variable">nP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.Function.stackTypes"><span class="id" title="variable">stackTypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.nS"><span class="id" title="variable">nS</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.Function.registerTypes"><span class="id" title="variable">registerTypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.nR"><span class="id" title="variable">nR</span></a>.<br/>

<br/>
</div>

<div class="doc">
Its register variables 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.Function.registerVariables"><span class="id" title="variable">registerVariables</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.registerTypes"><span class="id" title="variable">registerTypes</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.register"><span class="id" title="axiom">A.register</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.BodyType"><span class="id" title="definition">BodyType</span></a> <span class="id" title="var">BODY</span> <span class="id" title="var">v</span> := <a class="idref" href="Verse.Verse.Syntax.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.parameterTypes"><span class="id" title="variable">parameterTypes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Verse.Verse.Syntax.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.stackTypes"><span class="id" title="variable">stackTypes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Verse.Verse.Syntax.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.registerTypes"><span class="id" title="variable">registerTypes</span></a> (<a class="idref" href="Verse.Verse.Compile.html#BODY"><span class="id" title="variable">BODY</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
</div>

<div class="doc">
Fill a generic Verse code block with the 'most general'
          VariableT corresponding to it's scope 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.fillVars"><span class="id" title="definition">fillVars</span></a> <span class="id" title="var">BODY</span> (<span class="id" title="var">functionBody</span>  : <span class="id" title="keyword">∀</span> <span class="id" title="var">v</span>, <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.BodyType"><span class="id" title="definition">BodyType</span></a> <a class="idref" href="Verse.Verse.Compile.html#BODY"><span class="id" title="variable">BODY</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Syntax.html#fillDummy"><span class="id" title="definition">fillDummy</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Verse.Verse.Syntax.html#mergeScope"><span class="id" title="definition">mergeScope</span></a> (<a class="idref" href="Verse.Verse.Syntax.html#mergeScope"><span class="id" title="definition">mergeScope</span></a> (<a class="idref" href="Verse.Verse.Compile.html#functionBody"><span class="id" title="variable">functionBody</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a>))).<br/>

<br/>
</div>

<div class="doc">
Use the frame routines to provide an allocation into machine variables 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.mkAlloc"><span class="id" title="definition">mkAlloc</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.parameterTypes"><span class="id" title="variable">parameterTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.stackTypes"><span class="id" title="variable">stackTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.registerTypes"><span class="id" title="variable">registerTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">regs</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Compile.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <span class="id" title="var">pA</span> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.params"><span class="id" title="definition">params</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.startState"><span class="id" title="variable">startState</span></a> <a class="idref" href="Verse.Verse.Compile.html#pp"><span class="id" title="variable">pp</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">pVars</span>, <span class="id" title="var">paramState</span>) := <a class="idref" href="Verse.Verse.Compile.html#pA"><span class="id" title="variable">pA</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lA</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.stacks"><span class="id" title="definition">stacks</span></a> <a class="idref" href="Verse.Verse.Compile.html#paramState"><span class="id" title="variable">paramState</span></a> <a class="idref" href="Verse.Verse.Compile.html#sp"><span class="id" title="variable">sp</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">sVars</span>, <span class="id" title="var">stackState</span>) := <span class="id" title="var">lA</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rA</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.registers"><span class="id" title="definition">registers</span></a> <a class="idref" href="Verse.Verse.Compile.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="Verse.Verse.Compile.html#stackState"><span class="id" title="variable">stackState</span></a> (<a class="idref" href="Verse.Verse.Compile.html#regs"><span class="id" title="variable">regs</span></a> <a class="idref" href="Verse.Verse.Compile.html#rp"><span class="id" title="variable">rp</span></a>)<a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">rVars</span>, <span class="id" title="var">finalState</span>) := <span class="id" title="var">rA</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#finalState"><span class="id" title="variable">finalState</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mergeAlloc"><span class="id" title="definition">mergeAlloc</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mergeAlloc"><span class="id" title="definition">mergeAlloc</span></a> <a class="idref" href="Verse.Verse.Compile.html#pVars"><span class="id" title="variable">pVars</span></a> <a class="idref" href="Verse.Verse.Compile.html#sVars"><span class="id" title="variable">sVars</span></a>) <a class="idref" href="Verse.Verse.Compile.html#rVars"><span class="id" title="variable">rVars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.mkPrototype"><span class="id" title="definition">mkPrototype</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.parameterTypes"><span class="id" title="variable">parameterTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Types.html#Prototype"><span class="id" title="record">Prototype</span></a> (<a class="idref" href="Verse.Verse.Compile.html#A.mType"><span class="id" title="axiom">A.mType</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="Verse.Verse.Compile.html#A.functionPrototype"><span class="id" title="axiom">A.functionPrototype</span></a> (<a class="idref" href="Verse.Verse.Compile.html#F.description"><span class="id" title="axiom">F.description</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>  (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.params"><span class="id" title="definition">params</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Function.startState"><span class="id" title="variable">startState</span></a> <a class="idref" href="Verse.Verse.Compile.html#pp"><span class="id" title="variable">pp</span></a>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="keyword">Function</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkAlloc"><span class="id" title="definition">mkAlloc</span></a> <span class="id" title="var">_</span> [<span class="id" title="var">nP</span> <span class="id" title="var">nS</span> <span class="id" title="var">nR</span> <span class="id" title="var">parameterTypes</span> <span class="id" title="var">stackTypes</span> <span class="id" title="var">registerTypes</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Compiler.Internal.IteratorF"><span class="id" title="section">IteratorF</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.tyD"><span class="id" title="variable">tyD</span></a> : <a class="idref" href="Verse.Verse.Types.Internal.html#typeC"><span class="id" title="class">typeC</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#TypeDenote"><span class="id" title="definition">TypeDenote</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.startState"><span class="id" title="variable">startState</span></a> : <a class="idref" href="Verse.Verse.Compile.html#F.frameState"><span class="id" title="axiom">F.frameState</span></a>.<br/>

<br/>
</div>

<div class="doc">
Its parameters and stack variables 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.nP"><span class="id" title="variable">nP</span></a> <a name="Compiler.Internal.IteratorF.nS"><span class="id" title="variable">nS</span></a> <a name="Compiler.Internal.IteratorF.nR"><span class="id" title="variable">nR</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.codeT"><span class="id" title="variable">codeT</span></a> : <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#memory"><span class="id" title="constructor">memory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.parameterTypes"><span class="id" title="variable">parameterTypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.nP"><span class="id" title="variable">nP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.stackTypes"><span class="id" title="variable">stackTypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.nS"><span class="id" title="variable">nS</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.registerTypes"><span class="id" title="variable">registerTypes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.nR"><span class="id" title="variable">nR</span></a>.<br/>

<br/>
</div>

<div class="doc">
Its register variables 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Compiler.Internal.IteratorF.registerVariables"><span class="id" title="variable">registerVariables</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.registerTypes"><span class="id" title="variable">registerTypes</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.register"><span class="id" title="axiom">A.register</span></a> <a class="idref" href="Verse.Verse.Compile.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.iterBlocks"><span class="id" title="definition">iterBlocks</span></a> <span class="id" title="var">v</span> := (<a class="idref" href="Verse.Verse.Language.Ast.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">type</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.mkBlocks"><span class="id" title="definition">mkBlocks</span></a> <span class="id" title="var">v</span> <span class="id" title="var">x</span> (<span class="id" title="var">i</span> : <a class="idref" href="Verse.Verse.Language.Ast.html#iterator"><span class="id" title="record">iterator</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.codeT"><span class="id" title="variable">codeT</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Language.Ast.html#setup"><span class="id" title="projection">Ast.setup</span></a> <a class="idref" href="Verse.Verse.Compile.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#process"><span class="id" title="projection">Ast.process</span></a> <a class="idref" href="Verse.Verse.Compile.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Verse.Verse.Compile.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Language.Ast.html#finalise"><span class="id" title="projection">Ast.finalise</span></a> <a class="idref" href="Verse.Verse.Compile.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Add the loop variable to the scope 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.scopeLoopVar"><span class="id" title="definition">scopeLoopVar</span></a> <span class="id" title="var">iterF</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.BodyType"><span class="id" title="definition">BodyType</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.codeT"><span class="id" title="variable">codeT</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.parameterTypes"><span class="id" title="variable">parameterTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.stackTypes"><span class="id" title="variable">stackTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.registerTypes"><span class="id" title="variable">registerTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.iterBlocks"><span class="id" title="definition">iterBlocks</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">codeV</span> ⇒ <a class="idref" href="Verse.Verse.Syntax.html#appScoped"><span class="id" title="definition">appScoped</span></a> (<a class="idref" href="Verse.Verse.Syntax.html#appScoped"><span class="id" title="definition">appScoped</span></a> (<a class="idref" href="Verse.Verse.Syntax.html#appScoped"><span class="id" title="definition">appScoped</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkBlocks"><span class="id" title="definition">mkBlocks</span></a> <a class="idref" href="Verse.Verse.Compile.html#codeV"><span class="id" title="variable">codeV</span></a>))) (<a class="idref" href="Verse.Verse.Compile.html#iterF"><span class="id" title="variable">iterF</span></a> <a class="idref" href="Verse.Verse.Compile.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
</div>

<div class="doc">
Generate allocations for an iterator function 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.mkIAlloc"><span class="id" title="definition">mkIAlloc</span></a> (<span class="id" title="var">pT</span> : <a class="idref" href="Verse.Verse.Error.html#noErr"><span class="id" title="definition">noErr</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#typeDenote"><span class="id" title="definition">typeDenote</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.codeT"><span class="id" title="variable">codeT</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">codeV</span> : <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <a class="idref" href="Verse.Verse.Compile.html#pT"><span class="id" title="variable">pT</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.parameterTypes"><span class="id" title="variable">parameterTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.stackTypes"><span class="id" title="variable">stackTypes</span></a>) (<span class="id" title="var">rp</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.registerTypes"><span class="id" title="variable">registerTypes</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">regs</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <span class="id" title="var">_</span> <a class="idref" href="Verse.Verse.Compile.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.AllocationError"><span class="id" title="inductive">AllocationError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <span class="id" title="var">pA</span> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.params"><span class="id" title="definition">params</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.startState"><span class="id" title="variable">startState</span></a> <a class="idref" href="Verse.Verse.Compile.html#pp"><span class="id" title="variable">pp</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">pVars</span>, <span class="id" title="var">paramState</span>) := <a class="idref" href="Verse.Verse.Compile.html#pA"><span class="id" title="variable">pA</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pts'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.codeT"><span class="id" title="variable">codeT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF.parameterTypes"><span class="id" title="variable">parameterTypes</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pp'</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.suppTypes"><span class="id" title="definition">suppTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts'"><span class="id" title="variable">pts'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#pT"><span class="id" title="variable">pT</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#pp"><span class="id" title="variable">pp</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pVars'</span> : <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.Allocation"><span class="id" title="definition">Allocation</span></a> <a class="idref" href="Verse.Verse.Compile.html#A.mVar"><span class="id" title="axiom">A.mVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#pp'"><span class="id" title="variable">pp'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#codeV"><span class="id" title="variable">codeV</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#pVars"><span class="id" title="variable">pVars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lA</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.stacks"><span class="id" title="definition">stacks</span></a> <a class="idref" href="Verse.Verse.Compile.html#paramState"><span class="id" title="variable">paramState</span></a> <a class="idref" href="Verse.Verse.Compile.html#sp"><span class="id" title="variable">sp</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">sVars</span>, <span class="id" title="var">stackState</span>) := <span class="id" title="var">lA</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rA</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.registers"><span class="id" title="definition">registers</span></a> <a class="idref" href="Verse.Verse.Compile.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="Verse.Verse.Compile.html#stackState"><span class="id" title="variable">stackState</span></a> (<a class="idref" href="Verse.Verse.Compile.html#regs"><span class="id" title="variable">regs</span></a> <a class="idref" href="Verse.Verse.Compile.html#rp"><span class="id" title="variable">rp</span></a>)<a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">rVars</span>, <span class="id" title="var">finalState</span>) := <span class="id" title="var">rA</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Verse.Verse.Compile.html#finalState"><span class="id" title="variable">finalState</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mergeAlloc"><span class="id" title="definition">mergeAlloc</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mergeAlloc"><span class="id" title="definition">mergeAlloc</span></a> <a class="idref" href="Verse.Verse.Compile.html#pVars'"><span class="id" title="variable">pVars'</span></a> <a class="idref" href="Verse.Verse.Compile.html#sVars"><span class="id" title="variable">sVars</span></a>) <a class="idref" href="Verse.Verse.Compile.html#rVars"><span class="id" title="variable">rVars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.IteratorF"><span class="id" title="section">IteratorF</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.scopeLoopVar"><span class="id" title="definition">scopeLoopVar</span></a> [<span class="id" title="var">tyD</span> <span class="id" title="var">nP</span> <span class="id" title="var">nS</span> <span class="id" title="var">nR</span>] <span class="id" title="var">_</span> [<span class="id" title="var">parameterTypes</span> <span class="id" title="var">stackTypes</span> <span class="id" title="var">registerTypes</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkIAlloc"><span class="id" title="definition">mkIAlloc</span></a> <span class="id" title="var">_</span> [<span class="id" title="var">nP</span> <span class="id" title="var">nS</span> <span class="id" title="var">nR</span> <span class="id" title="var">codeT</span> <span class="id" title="var">parameterTypes</span> <span class="id" title="var">stackTypes</span> <span class="id" title="var">registerTypes</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Compile generic Verse code into machine instructions 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.compilePrototype"><span class="id" title="definition">compilePrototype</span></a> {<span class="id" title="var">nP</span>} <span class="id" title="var">name</span> (<span class="id" title="var">pts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nP"><span class="id" title="variable">nP</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">state</span> := <a class="idref" href="Verse.Verse.Compile.html#F.emptyFrame"><span class="id" title="axiom">F.emptyFrame</span></a> <a class="idref" href="Verse.Verse.Compile.html#name"><span class="id" title="variable">name</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span>  <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkPrototype"><span class="id" title="definition">mkPrototype</span></a> <a class="idref" href="Verse.Verse.Compile.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a> <span class="id" title="var">pp</span> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>.<br/>

<br/>
</div>

<div class="doc">
Compile generic Verse code into machine instructions 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.compile"><span class="id" title="definition">compile</span></a> (<span class="id" title="var">tyD</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#typeC"><span class="id" title="class">typeC</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#TypeDenote"><span class="id" title="definition">TypeDenote</span></a>) {<span class="id" title="var">nP</span> <span class="id" title="var">nL</span> <span class="id" title="var">nR</span>} <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nP"><span class="id" title="variable">nP</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nL"><span class="id" title="variable">nL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nR"><span class="id" title="variable">nR</span></a>) <span class="id" title="var">regs</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <span class="id" title="var">vCode</span> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.fillVars"><span class="id" title="definition">fillVars</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a> <a class="idref" href="Verse.Verse.Compile.html#lts"><span class="id" title="variable">lts</span></a> <a class="idref" href="Verse.Verse.Compile.html#rts"><span class="id" title="variable">rts</span></a> (@<a class="idref" href="Verse.Verse.Language.Ast.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Verse.Verse.Compile.html#tyD"><span class="id" title="variable">tyD</span></a>) <a class="idref" href="Verse.Verse.Compile.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">state</span> := <a class="idref" href="Verse.Verse.Compile.html#F.emptyFrame"><span class="id" title="axiom">F.emptyFrame</span></a> <a class="idref" href="Verse.Verse.Compile.html#name"><span class="id" title="variable">name</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#lts"><span class="id" title="variable">lts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#rts"><span class="id" title="variable">rts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cc</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkAlloc"><span class="id" title="definition">mkAlloc</span></a> <a class="idref" href="Verse.Verse.Compile.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="var">pp</span> <span class="id" title="var">sp</span> <span class="id" title="var">rp</span> <a class="idref" href="Verse.Verse.Compile.html#regs"><span class="id" title="variable">regs</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">finalState</span>, <span class="id" title="var">alloc</span>) := <span class="id" title="var">cc</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vTrans</span> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.makeVTrans"><span class="id" title="definition">makeVTrans</span></a> <a class="idref" href="Verse.Verse.Compile.html#alloc"><span class="id" title="variable">alloc</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="Verse.Verse.Compile.html#F.description"><span class="id" title="axiom">F.description</span></a> <a class="idref" href="Verse.Verse.Compile.html#finalState"><span class="id" title="variable">finalState</span></a>) <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.compileCode"><span class="id" title="definition">compileCode</span></a> <a class="idref" href="Verse.Verse.Compile.html#vTrans"><span class="id" title="variable">vTrans</span></a> <a class="idref" href="Verse.Verse.Compile.html#vCode"><span class="id" title="variable">vCode</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.compileIteratorPrototype"><span class="id" title="definition">compileIteratorPrototype</span></a> {<span class="id" title="var">nP</span>} <span class="id" title="var">ty</span> <span class="id" title="var">name</span> (<span class="id" title="var">pts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nP"><span class="id" title="variable">nP</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pT</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkTy"><span class="id" title="definition">checkTy</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">state</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="Verse.Verse.Compile.html#F.iterateFrame"><span class="id" title="axiom">F.iterateFrame</span></a> <a class="idref" href="Verse.Verse.Compile.html#name"><span class="id" title="variable">name</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <span class="id" title="var">pT</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkPrototype"><span class="id" title="definition">mkPrototype</span></a> <a class="idref" href="Verse.Verse.Compile.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a> <span class="id" title="var">pp</span> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.compileIterator"><span class="id" title="definition">compileIterator</span></a> (<span class="id" title="var">tyD</span> : <a class="idref" href="Verse.Verse.Types.Internal.html#typeC"><span class="id" title="class">typeC</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#TypeDenote"><span class="id" title="definition">TypeDenote</span></a>) {<span class="id" title="var">nP</span> <span class="id" title="var">nL</span> <span class="id" title="var">nR</span>} <span class="id" title="var">ty</span> <span class="id" title="var">name</span> (<span class="id" title="var">pts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nP"><span class="id" title="variable">nP</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nL"><span class="id" title="variable">nL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">rts</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.Vector.html#t"><span class="id" title="inductive">Vector.t</span></a> (<a class="idref" href="Verse.Verse.Types.Internal.html#some"><span class="id" title="definition">some</span></a> <a class="idref" href="Verse.Verse.Types.Internal.html#type"><span class="id" title="inductive">type</span></a>) <a class="idref" href="Verse.Verse.Compile.html#nR"><span class="id" title="variable">nR</span></a>) <span class="id" title="var">regs</span> <span class="id" title="var">iterF</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <span class="id" title="var">pts'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Vectors.VectorDef.html#d9a34fade97b649eed4e6c435f1d827e"><span class="id" title="notation">::</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">iterB</span> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.scopeLoopVar"><span class="id" title="definition">scopeLoopVar</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="Verse.Verse.Compile.html#iterF"><span class="id" title="variable">iterF</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">stp</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">proc</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">fnl</span><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.fillVars"><span class="id" title="definition">fillVars</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts'"><span class="id" title="variable">pts'</span></a> <a class="idref" href="Verse.Verse.Compile.html#lts"><span class="id" title="variable">lts</span></a> <a class="idref" href="Verse.Verse.Compile.html#rts"><span class="id" title="variable">rts</span></a> (@<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.iterBlocks"><span class="id" title="definition">iterBlocks</span></a> <a class="idref" href="Verse.Verse.Compile.html#tyD"><span class="id" title="variable">tyD</span></a>) <a class="idref" href="Verse.Verse.Compile.html#iterB"><span class="id" title="variable">iterB</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pT</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.checkTy"><span class="id" title="definition">checkTy</span></a> <a class="idref" href="Verse.Verse.Compile.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">S</span> := <a class="idref" href="Verse.Verse.Compile.html#F.iterateFrame"><span class="id" title="axiom">F.iterateFrame</span></a> <a class="idref" href="Verse.Verse.Compile.html#name"><span class="id" title="variable">name</span></a> (<a class="idref" href="Verse.Verse.Error.html#getT"><span class="id" title="definition">getT</span></a> <span class="id" title="var">pT</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">iterVars</span>, <span class="id" title="var">state</span>) := <a class="idref" href="Verse.Verse.Compile.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">iterpar</span>, <span class="id" title="var">loopvar</span>)  := <a class="idref" href="Verse.Verse.Compile.html#iterVars"><span class="id" title="variable">iterVars</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">codeVT</span>, <span class="id" title="var">countV</span>) := <a class="idref" href="Verse.Verse.Compile.html#iterpar"><span class="id" title="variable">iterpar</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">codeV</span> := <a class="idref" href="Verse.Verse.Compile.html#codeVT"><span class="id" title="variable">codeVT</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#pts"><span class="id" title="variable">pts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#lts"><span class="id" title="variable">lts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rp</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.checkTypes"><span class="id" title="definition">checkTypes</span></a> <a class="idref" href="Verse.Verse.Compile.html#rts"><span class="id" title="variable">rts</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cc</span> <a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">*&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.mkIAlloc"><span class="id" title="definition">mkIAlloc</span></a> <a class="idref" href="Verse.Verse.Compile.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="var">pT</span> <a class="idref" href="Verse.Verse.Compile.html#loopvar"><span class="id" title="variable">loopvar</span></a> <span class="id" title="var">pp</span> <span class="id" title="var">sp</span> <span class="id" title="var">rp</span> <a class="idref" href="Verse.Verse.Compile.html#regs"><span class="id" title="variable">regs</span></a><a class="idref" href="Verse.Verse.Error.html#d5ff6d8f6a305ed47b397141d0d0e2e7"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">finalState</span>, <span class="id" title="var">alloc</span>) := <span class="id" title="var">cc</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vTrans</span> := <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.makeVTrans"><span class="id" title="definition">makeVTrans</span></a> <a class="idref" href="Verse.Verse.Compile.html#alloc"><span class="id" title="variable">alloc</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mSetup</span> <a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.compileCode"><span class="id" title="definition">compileCode</span></a> <a class="idref" href="Verse.Verse.Compile.html#vTrans"><span class="id" title="variable">vTrans</span></a> <span class="id" title="var">stp</span><a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mProcess</span> <a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.compileCode"><span class="id" title="definition">compileCode</span></a> <a class="idref" href="Verse.Verse.Compile.html#vTrans"><span class="id" title="variable">vTrans</span></a> <span class="id" title="var">proc</span><a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mFinalise</span> <a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Verse.Verse.Compile.html#Compiler.compileCode"><span class="id" title="definition">compileCode</span></a> <a class="idref" href="Verse.Verse.Compile.html#vTrans"><span class="id" title="variable">vTrans</span></a> <span class="id" title="var">fnl</span><a class="idref" href="Verse.Verse.Error.html#9de03680d7b45b7f84bb39e0173c68a2"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mLoop</span> := <a class="idref" href="Verse.Verse.Compile.html#C.loopWrapper"><span class="id" title="axiom">C.loopWrapper</span></a> <span class="id" title="var">codeV</span> <a class="idref" href="Verse.Verse.Compile.html#countV"><span class="id" title="variable">countV</span></a> <span class="id" title="var">mProcess</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mCode</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> <span class="id" title="var">mSetup</span> <a class="idref" href="Verse.Verse.Compile.html#mLoop"><span class="id" title="variable">mLoop</span></a>) <span class="id" title="var">mFinalise</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">{-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<a class="idref" href="Verse.Verse.Compile.html#F.description"><span class="id" title="axiom">F.description</span></a> <a class="idref" href="Verse.Verse.Compile.html#finalState"><span class="id" title="variable">finalState</span></a>) <a class="idref" href="Verse.Verse.Compile.html#mCode"><span class="id" title="variable">mCode</span></a> <a class="idref" href="Verse.Verse.Error.html#509f3c9de0509312cf78973d75032499"><span class="id" title="notation">-}</span></a>.<br/>

<br/>
</div>

<div class="doc">
Pretty printing 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Compiler.Internal.write"><span class="id" title="variable">write</span></a> <span class="id" title="var">insts</span> := <a class="idref" href="Verse.Verse.Compile.html#C.emit"><span class="id" title="axiom">C.emit</span></a> <a class="idref" href="Verse.Verse.Compile.html#insts"><span class="id" title="variable">insts</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="Compiler.Internal.wrap"><span class="id" title="variable">wrap</span></a> <span class="id" title="var">descr</span> <span class="id" title="var">code</span> := <a class="idref" href="Verse.Verse.Compile.html#C.makeFunction"><span class="id" title="axiom">C.makeFunction</span></a> <a class="idref" href="Verse.Verse.Compile.html#descr"><span class="id" title="variable">descr</span></a> <a class="idref" href="Verse.Verse.Compile.html#code"><span class="id" title="variable">code</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Compiler.Internal.result"><span class="id" title="definition">result</span></a> <span class="id" title="var">mCode</span> : <a class="idref" href="Verse.Verse.PrettyPrint.html#Doc"><span class="id" title="inductive">Doc</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">{</span></a><a class="idref" href="Verse.Verse.Compile.html#Compiler.CompileError"><span class="id" title="inductive">CompileError</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Specif.html#f54393d7670a5aa26d6e138373d42f1c"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> : <a class="idref" href="Verse.Verse.Compile.html#A.functionDescription"><span class="id" title="axiom">A.functionDescription</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.1/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Verse.Verse.Compile.html#C.mInstruction"><span class="id" title="axiom">C.mInstruction</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">descr</span>, <span class="id" title="var">cd</span>) := <a class="idref" href="Verse.Verse.Compile.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">prot</span>  := <a class="idref" href="Verse.Verse.Compile.html#A.functionPrototype"><span class="id" title="axiom">A.functionPrototype</span></a> <a class="idref" href="Verse.Verse.Compile.html#descr"><span class="id" title="variable">descr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.wrap"><span class="id" title="definition">wrap</span></a> <a class="idref" href="Verse.Verse.Compile.html#descr"><span class="id" title="variable">descr</span></a> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.write"><span class="id" title="definition">write</span></a> <a class="idref" href="Verse.Verse.Compile.html#cd"><span class="id" title="variable">cd</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">)</span></a> <a class="idref" href="Verse.Verse.Error.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="Verse.Verse.Compile.html#mCode"><span class="id" title="variable">mCode</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.compile"><span class="id" title="definition">compile</span></a> [<span class="id" title="var">tyD</span> <span class="id" title="var">nP</span> <span class="id" title="var">nL</span> <span class="id" title="var">nR</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> [<span class="id" title="var">rts</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.compileIterator"><span class="id" title="definition">compileIterator</span></a> [<span class="id" title="var">tyD</span> <span class="id" title="var">nP</span> <span class="id" title="var">nL</span> <span class="id" title="var">nR</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> [<span class="id" title="var">rts</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.compileIteratorPrototype"><span class="id" title="definition">compileIteratorPrototype</span></a> [<span class="id" title="var">nP</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal.compilePrototype"><span class="id" title="definition">compilePrototype</span></a> [<span class="id" title="var">nP</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler.Internal"><span class="id" title="module">Internal</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Internal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">function</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> := <span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.result"><span class="id" title="definition">result</span></a> (@<a class="idref" href="Verse.Verse.Compile.html#Compiler.compile"><span class="id" title="definition">compile</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&gt; <span class="id" title="var">shelve</span> | <span class="id" title="var">shelve</span> | <span class="id" title="var">shelve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">declare</span> <span class="id" title="var">p</span> | <span class="id" title="var">declare</span> <span class="id" title="var">l</span> | <span class="id" title="var">declare</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ..].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iterator</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> := <span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.result"><span class="id" title="definition">result</span></a> (@<a class="idref" href="Verse.Verse.Compile.html#Compiler.compileIterator"><span class="id" title="definition">compileIterator</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&gt; <span class="id" title="var">shelve</span> | <span class="id" title="var">shelve</span> | <span class="id" title="var">shelve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">declare</span> <span class="id" title="var">p</span> | <span class="id" title="var">declare</span> <span class="id" title="var">l</span> | <span class="id" title="var">declare</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ..].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">functionPrototype</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> := <span class="id" title="tactic">refine</span> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.compilePrototype"><span class="id" title="definition">compilePrototype</span></a> <span class="id" title="var">s</span> <span class="id" title="var">_</span>); <span class="id" title="var">declare</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">iteratorPrototype</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">p</span> := <span class="id" title="tactic">refine</span> (<a class="idref" href="Verse.Verse.Compile.html#Compiler.compileIteratorPrototype"><span class="id" title="definition">compileIteratorPrototype</span></a> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">_</span>); <span class="id" title="var">declare</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Verse.Verse.Compile.html#Compiler"><span class="id" title="module">Compiler</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>